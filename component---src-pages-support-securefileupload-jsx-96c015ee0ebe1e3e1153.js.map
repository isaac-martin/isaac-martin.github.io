{"version":3,"sources":["webpack:///./src/pages/support/securefileupload.jsx"],"names":["SecureFileUpload","componentDidMount","s","document","createElement","type","async","innerHTML","this","instance","appendChild","render","location","props","whiteContentBackground","whiteGutterBackground","ref","el","dangerouslySetInnerHTML","__html","search","substring","React","Component"],"mappings":"8NAIqBA,E,kGACnBC,kBAAA,WACE,IAAMC,EAAIC,SAASC,cAAc,UACjCF,EAAEG,KAAO,kBACTH,EAAEI,OAAQ,EACVJ,EAAEK,UAAY,q7EAsGdC,KAAKC,SAASC,YAAYR,I,EAG5BS,OAAA,WAAU,IAAD,OACCC,EAAaJ,KAAKK,MAAlBD,SACR,OACE,YAAC,IAAD,CAAQA,SAAUA,EAAUE,wBAAsB,EAACC,uBAAqB,GACtE,mBAAKC,IAAK,SAACC,GAAD,OAAS,EAAKR,SAAWQ,KACnC,mBAAKC,wBAAyB,CAAEC,OAAO,+1BAcaP,EAASQ,OAAOC,UAAU,IAAM,MAd9C,2lC,GAnHAC,IAAMC","file":"component---src-pages-support-securefileupload-jsx-96c015ee0ebe1e3e1153.js","sourcesContent":["/* eslint-disable */\nimport React from \"react\";\nimport Layout from \"components/layout\";\n\nexport default class SecureFileUpload extends React.Component {\n  componentDidMount() {\n    const s = document.createElement(\"script\");\n    s.type = \"text/javascript\";\n    s.async = true;\n    s.innerHTML = \"function isFormValid() {\\n\" +\n      \"var isValid = true;\\n\" +\n      \"if (!/(.)@(.){2,}\\\\.(.+){2,}/.test($(\\\"#email\\\").val())) {\\n\" +\n      \"alert(\\\"You did not provide a valid email address\\\");\\n\" +\n      \"isValid = false;\\n\" +\n      \"return isValid;\\n\" +\n      \"}\\n\" +\n      \"$(\\\"#dropzone_form input[type=text]\\\").each(function() {\\n\" +\n      \"if (isValid && this.value.trim() == \\\"\\\") {\\n\" +\n      \"alert(\\\"You must complete all input fields\\\");\\n\" +\n      \"isValid = false;\\n\" +\n      \"return isValid;\\n\" +\n      \"}\\n\" +\n      \"});\\n\" +\n      \"if (isValid && widget.nbrOfFilesAttached < 1) {\\n\" +\n      \"alert(\\\"You did not attach a file\\\");\\n\" +\n      \"isValid = false;\\n\" +\n      \"return isValid;\\n\" +\n      \"}\\n\" +\n      \"return isValid;\\n\" +\n      \"}\\n\" +\n      \"\\n\" +\n      \"function submitHostedDropzone(url) {\\n\" +\n      \"var postData = {};\\n\" +\n      \"postData[\\\"name\\\"] = url_identifer;\\n\" +\n      \"postData[\\\"email\\\"] = $(\\\"#email\\\").val();\\n\" +\n      \"postData[\\\"packageCode\\\"] = widget.packageCode;\\n\" +\n      \"postData[\\\"publicApiKey\\\"] = dropzoneId;\\n\" +\n      \"$.post(\\n\" +\n      \"sendSafelyHost + \\\"/auth/json/?action=submitHostedDropzone\\\",\\n\" +\n      \"postData,\\n\" +\n      \"function(result) {\\n\" +\n      \"if (result.integrationUrls !== undefined) {\\n\" +\n      \"for (i = 0; i < result.integrationUrls.length; i++) {\\n\" +\n      \"var integrationUrl = result.integrationUrls[i];\\n\" +\n      \"//Third party form integration...do post to URL\\n\" +\n      \"var postData = {};\\n\" +\n      \"postData[\\\"digest\\\"] = result.digest;\\n\" +\n      \"postData[\\\"data\\\"] = result.data;\\n\" +\n      \"postData[\\\"secureLink\\\"] = url;\\n\" +\n      \"$(\\\"#dropzone_form input[type=text]\\\").each(function() {\\n\" +\n      \"postData[this.name] = this.value;\\n\" +\n      \"});\\n\" +\n      \"$.post(\\n\" +\n      \"integrationUrl,\\n\" +\n      \"postData,\\n\" +\n      \"function(json) {\\n\" +\n      \"if (json.error != undefined) {\\n\" +\n      \"alert(json.error);\\n\" +\n      \"$(\\\"#spinner\\\").hide();\\n\" +\n      \"} else {\\n\" +\n      \"//success\\n\" +\n      \"$(\\\"#dropzone_form\\\").hide();\\n\" +\n      \"$(\\\"#submit_done\\\").show();\\n\" +\n      \"}\\n\" +\n      \"},\\n\" +\n      \"\\\"json\\\"\\n\" +\n      \");\\n\" +\n      \"}\\n\" +\n      \"}\\n\" +\n      \"}\\n\" +\n      \");\\n\" +\n      \"}\\n\" +\n      \"\\n\" +\n      \"function submitForm() {\\n\" +\n      \"if (isFormValid()) {\\n\" +\n      \"$(\\\"#spinner\\\").show();\\n\" +\n      \"widget.setUnconfirmedSender(\\n\" +\n      \"$(\\\"#email\\\")\\n\" +\n      \".val()\\n\" +\n      \".toLowerCase()\\n\" +\n      \");\\n\" +\n      \"widget.finalizePackage(\\n\" +\n      \"function(url) {\\n\" +\n      \"var threadRegex = new RegExp(\\\"thread=[A-Za-z0-9-]+\\\");\\n\" +\n      \"var threadId = threadRegex\\n\" +\n      \".exec(url)\\n\" +\n      \".toString()\\n\" +\n      \".substr(7);\\n\" +\n      \"$(\\\"#dropzone-thread-id\\\").text(threadId);\\n\" +\n      \"submitHostedDropzone(url);\\n\" +\n      \"},\\n\" +\n      \"function() {\\n\" +\n      \"$(\\\"#spinner\\\").hide();\\n\" +\n      \"}\\n\" +\n      \");\\n\" +\n      \"}\\n\" +\n      \"}\\n\" +\n      \"\\n\" +\n      \"var el = document.createElement('a');\\n\" +\n      \"el.href = window.location;\\n\" +\n      \"var url_identifer = el.pathname.split(\\\"/\\\")[el.pathname.split(\\\"/\\\").length-1];\\n\" +\n      \"var widget;\\n\" +\n      \"var sendSafelyHost = \\\"https://brex.sendsafely.com\\\";\\n\" +\n      \"var dropzoneId = \\\"1ywP6CAxIRi4hBV4O9aj0PO9HnwpO-BYlap--15bojQ\\\";\\n\" +\n      \"$(document).ready(function() {\\n\" +\n      \"var placeholderElement = $(\\\"#dropzone-placeholder-div\\\");\\n\" +\n      \"var formField = $(\\\"#sendsafely-link\\\");\\n\" +\n      \"widget = new SendSafelyDropzone(dropzoneId, placeholderElement, formField);\\n\" +\n      \"widget.url = sendSafelyHost;\\n\" +\n      \"widget.initialize();\\n\" +\n      \"});\\n\";\n    this.instance.appendChild(s);\n  }\n\n  render() {\n    const { location } = this.props;\n    return (\n      <Layout location={location} whiteContentBackground whiteGutterBackground>\n        <div ref={(el) => (this.instance = el)} />\n        <div dangerouslySetInnerHTML={{ __html: `\n<div align=\"Center\">\n<IMG style=\"height:61px;margin-top:20px;margin-bottom:10px;\" SRC=\"https://brex.com/logo_dark_250px.png\"><br>\n<H4 style=\"color: #000;\">Secure File Upload</H4>\n</div><br>\n<div class=\"card\" style=\"padding:20px; margin:auto; max-width:440px; color: #000;\">\n<form id=\"dropzone_form\" name=\"dropzone_form\">\n<div class=\"form-group\">\n<label for=\"name\" style=\"color: #000;\">Company Name</label> <input class=\"form-control\" id=\"company-name\" name=\"company-name\" placeholder=\"Enter your company name\" type=\"text\">\n</div>\n<div class=\"form-group\">\n<label for=\"email\" style=\"color: #000;\">Brex Email Address</label> <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Enter your Brex email address\">\n</div>\n<div class=\"form-group\" style=\"display: none\">\n<input type=\"text\" id=\"reference\" name=\"reference\" value=\"${location.search.substring(1) || null}\"></div>\n<div class=\"form-group\">\n<div id=\"dropzone-placeholder-div\" style=\"color: #000;\"></div>\n</div>\n<div align=\"center\">\n<button class=\"btn btn-primary\" id=\"sendsafely-submit\" onclick=\"submitForm()\" type=\"button\" style=background-color:#ff6938>Submit <i class=\"fas fa-spinner fa-spin\" id=\"spinner\" style=\"display:none; margin-left:5px;\"></i></button>\n</div>\n</form>\n<div id=\"submit_done\" style=\"padding:10px; display:none\">\n<br>\n<div align=\"center\">\n<i style=\"color:#ff6938; font-size:84px;\" class=\"fas fa-check-circle\"></i> </div><br><br>\n<div align=\"center\">\n<b style=\"color: #000;\">Thank you. A Brex Support Team member will be in touch if further action is needed.</b><br>\n<br>\n\n\n<br><b style=\"color: #000;\">Your submission has been recorded. For your personal reference, your submission ID# is</b> <span id=\"dropzone-thread-id\" style=\"color: #000;\">N/A</span><br>\n<br>\n\n\n</div>\n\n\n<br>\n</div>\n</div>\n<div style=\"padding:50px\" align=\"center\"><IMG height=\"40\" width=\"181\" src=\"https://sendsafely.s3.amazonaws.com/images/secured_with_sendsafely_181x40.png\"></div>\n\n        ` }}\n        />\n      </Layout>);\n  }\n}\n"],"sourceRoot":""}